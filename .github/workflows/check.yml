# .github/workflows/debug.yml
name: Debug Server
on: push
jobs:
  debug:
    runs-on: ubuntu-latest
    services:
      redis:
        image: redis:latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup
        run: |
          cd backend/main-service
          echo "REDIS_HOST=localhost" > .env
          echo "REDIS_PORT=6379" >> .env
          go mod tidy
      - name: Run with logs
        run: |
          cd backend/main-service
          go run main.go 2>&1 | head -100